<!DOCTYPE html>
<html lang="en">
  <!--[ HEAD ]===============================================================-->
  <head>
    <!--[ libs ]--------------------------------------------------------------->
    <meta charset="utf-8"/>    
    <script src="lib/engine.2020.07.26.js"></script>
    <script src="lib/unit-test.js"></script>
    
    <!--[ style ]-------------------------------------------------------------->
    <style>
      #main-canvas {
        border: 1px solid black;
      }
    </style>
  </head>
  
  <!--[ BODY ]===============================================================-->
  <body>
    <canvas id="main-canvas" width="640" height="480">
      Your browser does not support HTML5 canvas.
    </canvas>
    <div id="output-div"></div>
  
    <!--[ JS ]===============================================================-->
    <script>

    
      window.addEventListener("load", function() {
        window.removeEventListener("load", this);
        
        let canvas = document.getElementById("main-canvas");
        let context = canvas.getContext("2d");
        
        let view = new LineGroupView([
          new LineStringView([
            new Vec2(200, 200),
            new Vec2(220, 220),
            new Vec2(240, 220),
            new Vec2(260, 200),
            new Vec2(260, 180),
            new Vec2(240, 160),
            new Vec2(220, 160),
            new Vec2(200, 180),
          ])
        ]);
        view.setStrokeColor("blue");
        view.setStrokeWidth(2);

        view.addLine(new LineView(10, 10, 100, 100));
        view.addLine(new LineView(10, 50, 100, 140));
        view.addLine(new LineView(10, 90, 100, 190));
                
        /**************/
        /* info tests */
        /**************/
        let result = null;
        let output = document.getElementById("output-div");        
        output.innerHTML = "";
        
        result = unitTest(view.isInBounds(5, 5), false);
        output.innerHTML += "view.isInBounds(5, 5): "+result.message+"<br>";

        result = unitTest(view.getX(), 200);
        output.innerHTML += "view.getX(): "+result.message+"<br>";
        
        result = unitTest(view.getY(), 200);
        output.innerHTML += "view.getY(): "+result.message+"<br>";
        
        result = unitTest(view.getLine(3), new LineView(10, 90, 100, 190));
        output.innerHTML += "view.getLine(3): "+result.message+"<br>";

        result = unitTest(view.getLineCount(), 4);
        output.innerHTML += "view.getLineCount(): "+result.message+"<br>";
        
        /*************/
        /* draw test */
        /*************/
        view.draw(context);
        
      });
    </script>  
  </body>

</html>