<!DOCTYPE html>
    <html lang="en">
    <!--[ HEAD ]=============================================================-->
    <head>
        <!--[ libs ]----------------------------------------------------------->
        <meta charset="utf-8" />

        <!--[ style ]---------------------------------------------------------->
        <style>
            #main-canvas {
                border: 1px solid black;
            }
        </style>
    </head>

    <!--[ BODY ]=============================================================-->
    <body>
        <canvas id="main-canvas" width="640" height="480">
            Your browser does not support HTML5 canvas.
        </canvas>
        <div id="output-div">
        </div>

        <!--[ JS ]===========================================================-->
        <script type="module">
            import {
                App,
                MouseDragEvent,
                MouseWheelEvent,
                RectangleView,
            } from "../src/Engine.js"

            class MouseWheelEventApp extends App {
                constructor(canvasName) {
                    super(canvasName);
                    
                    let parents = [
                        this.createRect(100, 100, 100, 100, "red"),
                        this.createRect(200, 100, 100, 100, "green"),
                        this.createRect(100, 200, 100, 100, "blue"),
                        this.createRect(200, 200, 100, 100, "yellow"),
                    ];

                    this.createRect(10, 10, 10, 10, "black", parents[0]);
                    this.createRect(10, 10, 10, 10, "black", parents[1]);
                    this.createRect(10, 10, 10, 10, "black", parents[2]);
                    this.createRect(10, 10, 10, 10, "black", parents[3]);
                }

                createRect(x, y, w, h, color, parent = this.canvas) {
                    let rect = new RectangleView(w, h);
                    rect.setX(x);
                    rect.setY(y);
                    rect.setFillStyle(color);  
                    rect.addEventListener(MouseDragEvent.name, function(t, e) {
                        rect.setX(rect.getX()+e.dx);
                        rect.setY(rect.getY()+e.dy);
                    });               
                    rect.addEventListener(MouseWheelEvent.name, function(t, e) {
                        rect.setWidth(rect.getWidth()+e.amount);
                        rect.setHeight(rect.getHeight()+e.amount);
                    });               
                    parent.addView(rect);
                    return rect;
                }

            }

            window.addEventListener("load", function () {
                window.removeEventListener("load", this);

                let app = new MouseWheelEventApp("main-canvas");
                app.start();
            });
        </script>
    </body>

</html>